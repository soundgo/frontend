<h1 mat-dialog-title>Log in</h1>
<form [formGroup]="userForm" (ngSubmit)="saveUser(userForm.value)">

    <div mat-dialog-content>

        <mat-form-field>
            <mat-label>Nickname</mat-label>
            <input matInput formControlName="nickname" maxlength="256"/>
            <mat-error *ngIf="hasError('nickname', 'required')">Nickname is required</mat-error>
            <mat-error *ngIf="hasError('nickname', 'maxlength')">Nickname must have less than 255 characters</mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Password</mat-label>
            <input matInput type="password" formControlName="password" maxlength="256"/>
            <mat-error *ngIf="hasError('password', 'required')">Password is required</mat-error>
            <mat-error *ngIf="hasError('password', 'maxlength')">Password must have less than 255 characters</mat-error>
            <mat-error *ngIf="hasError('password', 'minlength')">Password must be 8 characters or more</mat-error>
            <mat-error *ngIf="hasError('password', 'pattern')">At least 1 lowercase letter, 1 uppercase letter, 1 number and 1 special character.</mat-error>
        </mat-form-field>

        <mat-error *ngIf="showBadCredentials">The credentials are not correct</mat-error>

    </div>

    <div mat-dialog-actions>
        <a mat-button color="warn" (click)="onClose()">Close</a>
        <button mat-button class="saveButton" [disabled]="!userForm.valid" (keyup.enter)="saveUser(userForm.value)">Log
            in
        </button>
    </div>

</form>

<mat-divider class="divider-sign-up"></mat-divider>

<div class="sign-up">
    <button mat-button class="sign-up-button" color="primary" (click)="signUp()">Sign up</button>
</div>
